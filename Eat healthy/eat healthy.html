<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate-key="page_title">MALFIT | Health</title>
    
    <link rel="icon" type="image/x-icon" href="/img/favicon.ico" sizes="96x96" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        /* Define Arabic font application based on RTL direction */
        html[dir="rtl"] body {
            font-family: 'Cairo', sans-serif;
        }

        /* --- Mobile Menu Styles (REQUIRED for 'active' class to work) --- */
        #mobile-menu {
            transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
            max-height: 0;
            overflow: hidden;
            opacity: 0;
            background-color: #ffffff;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            position: absolute;
            top: 67px; /* Adjust based on header height */
            left: 0;
            right: 0;
            z-index: 40;
        }
        #mobile-menu.active {
            max-height: 500px; /* Sufficient height to show content */
            opacity: 1;
            padding: 10px 0;
            border-bottom: 1px solid #e5e7eb;
        }
        /* Mobile menu link styling from the previous code */
        #mobile-menu a {
            display: block;
            padding: 12px 20px; /* Taller padding */
            border-bottom: 1px solid #f3f4f6;
            color: #333; /* Darker text */
            text-decoration: none;
            text-align: left; 
            transition: background-color 0.15s;
        }
        #mobile-menu a:hover {
            background-color: var(--primary-light);
        }
        html[dir="rtl"] #mobile-menu a {
            text-align: right; 
        }

        /* Original styles below */
        :root {
            --primary-color: #4f46e5; /* indigo-600 */
            --primary-light: #eef2ff; /* indigo-50 */
        }
        
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #f0f4f8; /* Softer background */
            overflow-x: hidden; 
            min-height: 100vh;
            position: relative; 
        }

        /* --- Custom Nav Link Styles (Pill-shaped - FROM PREVIOUS CODE) --- */
        .nav-link {
            text-decoration: none;
            color: #474646; /* Slightly darker gray */
            font-weight: 500;
            padding: 10px 15px; /* Added padding */
            margin-right: 10px;
            transition: color 0.2s, background-color 0.2s, transform 0.1s;
            border-radius: 9999px; /* Pill shape */
            white-space: nowrap;
        }
        .nav-link:hover {
            color: var(--primary-color); 
            background-color: var(--primary-light); 
            transform: translateY(-1px);
        }
        /* Adjustments for RTL layout for links */
        html[dir="rtl"] header nav .nav-link {
            margin-right: 0;
            margin-left: 10px;
        }

        /* --- Falling Item Styles (Moving Background) --- */
        .falling-item {
            position: absolute;
            user-select: none;
            pointer-events: none; 
            opacity: 0.3; 
            transition: opacity 2s ease-out;
            z-index: 0; 
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.1); 
        }
        
        /* Ensure all structural elements are above the moving background */
        header, main, footer {
            position: relative;
            z-index: 10; 
        }
        
        /* Define a container that strictly holds the main content and prevents items from falling into the footer */
        #page-content-wrapper {
            position: relative;
            min-height: calc(100vh - 80px); 
            overflow: hidden; 
        }
        
        /* --- Header Specific Styles --- */
        header {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            background-color: #ffffff;
            /* Ensure these flex properties match the Tailwind classes used in the HTML */
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
        }

        /* General styling for header icons/buttons */
        .icon-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 9999px; /* Made fully circular like the previous version */
            transition: background-color 0.2s, border-color 0.2s;
            color: #4b5563; /* Gray-600 */
            cursor: pointer;
            width: 40px; /* Fixed size for consistency */
            height: 40px; /* Fixed size for consistency */
        }
        
        /* --- Language Icon Specific Style (Circular) --- */
        .lang-circle-btn {
            border: 2px solid #d1d5db; /* Gray-300 border */
            border-radius: 9999px; /* Fully circular */
            width: 40px; 
            height: 40px; 
            font-weight: 600;
            display: flex; 
            align-items: center;
            justify-content: center;
            transition: border-color 0.2s;
        }
        .lang-circle-btn:hover {
            border-color: #4f46e5; /* Highlight border on hover */
        }


        /* --- Main Button Styling (LARGER SIZE) --- */
        .main-btn {
            background-image: linear-gradient(to right, #4f46e5 0%, #3b82f6 100%); 
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(79, 70, 229, 0.3);
            padding: 2.5rem 1.25rem; 
            border-radius: 1.5rem; 
        }
        .main-btn:hover {
            box-shadow: 0 8px 18px rgba(63, 131, 248, 0.5); 
            transform: translateY(-2px); 
            opacity: 0.95;
        }
        
        /* Main content minimum height calculation (for vertical centering) */
        .min-h-main {
            min-height: calc(100vh - 140px);
        }

    </style>
</head>
<body>
    
    <header class="sticky top-0 z-50 w-full flex items-center justify-between px-4 md:px-8 lg:px-16 py-3 bg-white border-b border-gray-100">
        
        <div class="flex items-center">
            <h1 class="text-3xl font-extrabold text-indigo-600 tracking-wide" data-translate-key="logo">MALFIT</h1>
        </div>

        <nav class="hidden md:flex flex-grow justify-center mx-10">
            <a href="../Calories/calories.html" class="nav-link" data-translate-key="nav_calories">Calories</a>
            <a href="eat healthy.html" class="nav-link" data-translate-key="nav_eat_healthy">Eat Healthy</a>
            <a href="../Plans/plans.html" class="nav-link" data-translate-key="nav_plans">Plans</a>
            <a href="../Clubs/clubs.html" class="nav-link" data-translate-key="nav_clubs">Clubs</a>
            <a href="../Survey/survey.html" class="nav-link" data-translate-key="nav_survey">Survey</a>
            <a href="../Countact us/contact us.html" class="nav-link" data-translate-key="nav_contact_us">Contact Us</a>
        </nav>

        <div class="icons-container flex items-center gap-2 md:gap-4">
            
            <button id="lang-toggle" class="lang-circle-btn">
                <span id="current-lang" class="text-sm">EN</span> 
            </button>

            <a href="../Home/home.html.html" class="icon-btn hover:bg-indigo-50">
                <svg data-lucide="home" width="24" height="24"></svg>
            </a>

            <a href="../Account/account.html" class="icon-btn hover:bg-indigo-50">
                <svg data-lucide="user" width="24" height="24"></svg>
            </a>

            <button id="menu-toggle" class="md:hidden icon-btn hover:bg-indigo-50">
                <svg data-lucide="menu" width="24" height="24"></svg>
            </button>
        </div>
    </header>

    <div id="mobile-menu" class="md:hidden">
        <a href="../Calories/calories.html" data-translate-key="nav_calories">Calories</a>
        <a href="eat healthy.html" data-translate-key="nav_eat_healthy">Eat Healthy</a>
        <a href="../Plans/plans.html" data-translate-key="nav_plans">Plans</a>
        <a href="../Clubs/clubs.html" data-translate-key="nav_clubs">Clubs</a>
        <a href="../Survey/survey.html" data-translate-key="nav_survey">Survey</a>
        <a href="../Contact us/contact us.html" data-translate-key="nav_contact_us">Contact Us</a>
    </div>

    <div id="page-content-wrapper">
    
        <main class="flex items-center justify-center p-4 min-h-main"> 
            
            <div class="w-full max-w-5xl bg-white shadow-2xl rounded-3xl p-10 sm:p-16 border border-blue-50/50">

                <div class="text-center mb-12">
                    <h2 class="text-5xl font-extrabold text-gray-800" data-translate-key="h1">
                        What is Your Food Choice Today?
                    </h2>
                </div>

                <div class="flex flex-col sm:flex-row justify-center items-stretch gap-8">
                    
                    <a href="food.html" class="main-btn w-full sm:w-1/3 flex flex-col items-center justify-center text-2xl font-bold text-white">
                        <svg data-lucide="apple" width="36" height="36" class="mb-3"></svg>
                        <span data-translate-key="food">Food Calories</span>
                    </a>
                    
                    <a href="cook.html" class="main-btn w-full sm:w-1/3 flex flex-col items-center justify-center text-2xl font-bold text-white">
                        <svg data-lucide="chef-hat" width="36" height="36" class="mb-3"></svg>
                        <span data-translate-key="cook">Cook a Recipe</span>
                    </a>
                    
                    <a href="../Shopping/shopping.html" class="main-btn w-full sm:w-1/3 flex flex-col items-center justify-center text-2xl font-bold text-white">
                        <svg data-lucide="shopping-bag" width="36" height="36" class="mb-3"></svg>
                        <span data-translate-key="order">Order Healthy Food</span>
                    </a>
                </div>

            </div>
        </main>
    </div> 
    
    <footer class="p-6 bg-white border-t border-gray-100 shadow-inner">
        <p class="text-gray-600 text-center text-sm" data-translate-key="footer_text">&copy; 2025, Senior Project, Mada Saleh, Ahmed Khalifa, Lora Adel, Supervisor Dr.Abdulla Mohamed Khalid Alqaddoumi</p>
    </footer>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script> 

    <script>
        // --- Translation Data ---
        const translations = {
            'en': {
                'page_title': 'MALFIT | Health',
                'logo': 'MALFIT',
                'nav_calories': 'Calories',
                'nav_eat_healthy': 'Eat Healthy',
                'nav_plans': 'Plans',
                'nav_clubs': 'Clubs',
                'nav_survey': 'Survey',
                'nav_contact_us': 'Contact Us',
                'h1': 'What is Your Food Choice Today?',
                'food': 'Food Calories',
                'cook': 'Cook a Recipe',
                'order': 'Order Healthy Food',
                'footer_text': 'Â© 2025, Senior Project, Mada Saleh, Ahmed Khalifa, Lora Adel, Supervisor Dr.Abdulla Mohamed Khalid Alqaddoumi',
                'lang_code': 'AR', // Display 'AR' to switch to Arabic
            },
            'ar': {
                'page_title': 'Ù…Ù„ÙØª | ØµØ­Ø©',
                'logo': 'Ù…Ù„ÙØª',
                'nav_calories': 'Ø§Ù„Ø³Ø¹Ø±Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ©',
                'nav_eat_healthy': 'ØªÙ†Ø§ÙˆÙ„ Ø·Ø¹Ø§Ù… ØµØ­ÙŠ',
                'nav_plans': 'Ø§Ù„Ø®Ø·Ø·',
                'nav_clubs': 'Ø§Ù„Ø£Ù†Ø¯ÙŠØ©',
                'nav_survey': 'Ø§Ù„Ø§Ø³ØªØ¨ÙŠØ§Ù†',
                'nav_contact_us': 'Ø§ØªØµÙ„ Ø¨Ù†Ø§',
                'h1': 'Ù…Ø§ Ù‡Ùˆ Ø§Ø®ØªÙŠØ§Ø±Ùƒ Ø§Ù„ØºØ°Ø§Ø¦ÙŠ Ø§Ù„ÙŠÙˆÙ…ØŸ',
                'food': 'Ø§Ù„Ø³Ø¹Ø±Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ© ÙÙŠ Ø§Ù„Ø·Ø¹Ø§Ù…',
                'cook': 'Ø§Ø·Ø¨Ø® ÙˆØµÙØ©',
                'order': 'Ø§Ø·Ù„Ø¨ Ø·Ø¹Ø§Ù…Ù‹Ø§ ØµØ­ÙŠÙ‹Ø§',
                'footer_text': 'Â© 2025ØŒ Ù…Ø´Ø±ÙˆØ¹ ØªØ®Ø±Ø¬ØŒ Ù…Ø¯Ù‰ ØµØ§Ù„Ø­ØŒ Ø£Ø­Ù…Ø¯ Ø®Ù„ÙŠÙØ©ØŒ Ù„ÙˆØ±Ø§ Ø¹Ø§Ø¯Ù„ØŒ Ø§Ù„Ù…Ø´Ø±Ù Ø§Ù„Ø¯ÙƒØªÙˆØ± Ø¹Ø¨Ø¯ Ø§Ù„Ù„Ù‡ Ù…Ø­Ù…Ø¯ Ø®Ø§Ù„Ø¯ Ø§Ù„Ù‚Ø§Ø¯ÙˆÙ…ÙŠ',
                'lang_code': 'EN', // Display 'EN' to switch to English
            }
        };

        let currentLang = localStorage.getItem('malfitMainLang') || 'en';
        
        // Utility function to convert Lucide icons
        function replaceLucideIcons() {
            lucide.createIcons();
        }

        /**
         * Updates the content of the page based on the selected language and handles RTL layout.
         * @param {string} lang - The target language code ('en' or 'ar').
         */
        function updateContent(lang) {
            currentLang = lang;
            const dir = (lang === 'ar') ? 'rtl' : 'ltr';
            const langData = translations[lang];
            const html = document.documentElement;

            // 1. Update HTML language and direction attributes
            html.setAttribute('lang', lang);
            html.setAttribute('dir', dir);
            
            // 2. Update all translated elements
            document.querySelectorAll('[data-translate-key]').forEach(element => {
                const key = element.getAttribute('data-translate-key');
                if (langData[key]) {
                    // Update content only if it's not the language code span
                    if (element.id === 'current-lang') {
                        element.textContent = langData.lang_code;
                    } else if (element.tagName === 'TITLE') {
                        document.title = langData[key];
                    } else {
                        element.textContent = langData[key];
                    }
                }
            });

            // 3. Persist the selection
            localStorage.setItem('malfitMainLang', lang);
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            // --- 1. MALFIT Mobile Menu Toggle Handler ---
            const menuToggle = document.getElementById('menu-toggle');
            const mobileMenu = document.getElementById('mobile-menu');
            const langToggle = document.getElementById('lang-toggle'); 

            menuToggle.addEventListener('click', () => {
                mobileMenu.classList.toggle('active');
            });
            
            // Close menu when a link is clicked
            mobileMenu.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenu.classList.remove('active');
                });
            });
            
            // --- 2. Language Toggle Handler ---
            langToggle.addEventListener('click', () => {
                const newLang = (currentLang === 'en') ? 'ar' : 'en';
                updateContent(newLang);
                // Note: The original code contained a call to calculatePlan() which is not defined here.
            });
            
            // --- 3. Initial Language Load & Icon Replacement ---
            // Load saved language or default to English
            updateContent(currentLang);
            // Replace placeholder SVGs with Lucide Icons (only needed once DOM is ready)
            replaceLucideIcons();

            // --- 4. Falling Food Background Animation Script ---
            const produceEmojis = ['ðŸŽ', 'ðŸŠ', 'ðŸ‹', 'ðŸ‡', 'ðŸ“', 'ðŸ', 'ðŸ¥¦', 'ðŸ¥•', 'ðŸ¥¬', 'ðŸŒ¶ï¸', 'ðŸŒ½', 'ðŸ¥'];
            const body = document.body;
            const maxItems = 40; 
            let itemsOnScreen = 0;

            function createFallingItem() {
                if (itemsOnScreen >= maxItems) return;

                const emoji = produceEmojis[Math.floor(Math.random() * produceEmojis.length)];
                const size = Math.floor(Math.random() * 15) + 12; 
                const initialX = Math.random() * window.innerWidth;
                const duration = Math.random() * 8 + 4; 
                const rotation = Math.random() * 360; 
                
                const item = document.createElement('div');
                item.className = 'falling-item';
                item.innerHTML = emoji;
                item.style.fontSize = `${size}px`;
                item.style.left = `${initialX}px`;
                item.style.top = `-50px`; 
                item.style.transform = `rotate(${rotation}deg)`;
                
                body.appendChild(item);
                itemsOnScreen++;

                let currentY = -50;
                const speed = (window.innerHeight + 100) / (duration * 60); 
                const driftX = (Math.random() - 0.5) * 0.5; 

                function animateFall() {
                    if (currentY > window.innerHeight) {
                        if (body.contains(item)) {
                            body.removeChild(item);
                        }
                        itemsOnScreen--;
                        return;
                    }

                    currentY += speed;
                    let currentX = parseFloat(item.style.left) || initialX;
                    currentX += driftX;

                    item.style.top = `${currentY}px`;
                    item.style.left = `${currentX}px`;
                    
                    requestAnimationFrame(animateFall);
                }

                requestAnimationFrame(animateFall);
            }

            function spawnLoop() {
                createFallingItem();
                const delay = Math.random() * 400 + 100;
                setTimeout(spawnLoop, delay);
            }

            spawnLoop();
        });
    </script>
</body>
</html>
