<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title data-translate-key="page_title">MALFIT</title>

Â  Â  <script src="https://cdn.tailwindcss.com"></script>
Â  Â  <script src="https://unpkg.com/lucide@latest"></script>Â 

Â  Â  <style>
Â  Â  Â  Â  /* Custom styles for the falling items and overall look */
Â  Â  Â  Â  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
Â  Â  Â  Â Â 
Â  Â  Â  Â  :root {
Â  Â  Â  Â  Â  Â  --primary-color: #4f46e5; /* indigo-600 */
Â  Â  Â  Â  Â  Â  --primary-light: #eef2ff; /* indigo-50 */
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  body {Â 
Â  Â  Â  Â  Â  Â  font-family: 'Inter', sans-serif;Â 
Â  Â  Â  Â  Â  Â  background-color: #f0f4f8; /* Softer, slightly blue background */
Â  Â  Â  Â  Â  Â  overflow-x: hidden;Â 
Â  Â  Â  Â  Â  Â  min-height: 100vh;
Â  Â  Â  Â  Â  Â  position: relative;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Apply Arabic font when direction is RTL */
Â  Â  Â  Â  html[dir="rtl"] body {
Â  Â  Â  Â  Â  Â  font-family: 'Cairo', sans-serif;
Â  Â  Â  Â  Â  Â  text-align: right;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- Custom Nav Link Styles (Pill-shaped) --- */
Â  Â  Â  Â  .nav-link {
Â  Â  Â  Â  Â  Â  text-decoration: none;
Â  Â  Â  Â  Â  Â  color: #474646;
Â  Â  Â  Â  Â  Â  font-weight: 500;
Â  Â  Â  Â  Â  Â  padding: 10px 15px;Â 
Â  Â  Â  Â  Â  Â  margin-right: 10px;
Â  Â  Â  Â  Â  Â  transition: color 0.2s, background-color 0.2s, transform 0.1s;
Â  Â  Â  Â  Â  Â  border-radius: 9999px; /* Pill shape */
Â  Â  Â  Â  Â  Â  white-space: nowrap;
Â  Â  Â  Â  }
Â  Â  Â  Â  .nav-link:hover {
Â  Â  Â  Â  Â  Â  color: var(--primary-color);Â 
Â  Â  Â  Â  Â  Â  background-color: var(--primary-light);Â 
Â  Â  Â  Â  Â  Â  transform: translateY(-1px);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Adjustments for RTL layout for links */
Â  Â  Â  Â  html[dir="rtl"] header nav .nav-link {
Â  Â  Â  Â  Â  Â  margin-right: 0;
Â  Â  Â  Â  Â  Â  margin-left: 10px;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- Falling Item Styles (Background Layer) --- */
Â  Â  Â  Â  .falling-item {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  user-select: none;
Â  Â  Â  Â  Â  Â  pointer-events: none;Â 
Â  Â  Â  Â  Â  Â  opacity: 0.5; /* More subtle opacity */
Â  Â  Â  Â  Â  Â  transition: opacity 2s ease-out;
Â  Â  Â  Â  Â  Â  z-index: 0;Â 
Â  Â  Â  Â  Â  Â  text-shadow: 0 0 5px rgba(0, 0, 0, 0.1); /* Slight shadow to lift them */
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Ensure all structural elements are above the falling background */
Â  Â  Â  Â  header, main, footer {
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  z-index: 10;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- Header Specific Styles --- */
Â  Â  Â  Â  header {
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05); /* Stronger header shadow */
Â  Â  Â  Â  Â  Â  background-color: #ffffff;
Â  Â  Â  Â  Â  Â  transition: box-shadow 0.3s ease-in-out;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* --- Mobile Menu Styles --- */
Â  Â  Â  Â  #mobile-menu {
Â  Â  Â  Â  Â  Â  transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
Â  Â  Â  Â  Â  Â  max-height: 0;
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  Â  Â  opacity: 0;
Â  Â  Â  Â  Â  Â  background-color: #ffffff;
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 70px; /* Adjusted for taller header */
Â  Â  Â  Â  Â  Â  right: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  box-shadow: 0 6px 10px rgba(0, 0, 0, 0.1);
Â  Â  Â  Â  Â  Â  z-index: 100;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â  #mobile-menu.active {
Â  Â  Â  Â  Â  Â  max-height: 500px;
Â  Â  Â  Â  Â  Â  opacity: 1;
Â  Â  Â  Â  Â  Â  padding: 10px 0;
Â  Â  Â  Â  }
Â  Â  Â  Â  #mobile-menu a {
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  Â  Â  padding: 12px 20px;
Â  Â  Â  Â  Â  Â  border-bottom: 1px solid #f3f4f6;
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  Â  Â  text-decoration: none;
Â  Â  Â  Â  Â  Â  text-align: left;Â 
Â  Â  Â  Â  Â  Â  transition: background-color 0.15s;
Â  Â  Â  Â  }
Â  Â  Â  Â  #mobile-menu a:hover {
Â  Â  Â  Â  Â  Â  background-color: var(--primary-light);
Â  Â  Â  Â  }
Â  Â  Â  Â  html[dir="rtl"] #mobile-menu a {
Â  Â  Â  Â  Â  Â  text-align: right;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Icon Button Styling */
Â  Â  Â  Â  .icon-btn {
Â  Â  Â  Â  Â  Â  padding: 10px;
Â  Â  Â  Â  Â  Â  border-radius: 50%;
Â  Â  Â  Â  Â  Â  transition: background-color 0.2s, color 0.2s;
Â  Â  Â  Â  Â  Â  display: flex; /* Ensure SVG is centered */
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  color: #4b5563; /* gray-700 */
Â  Â  Â  Â  }
Â  Â  Â  Â  .icon-btn:hover {
Â  Â  Â  Â  Â  Â  background-color: var(--primary-light);
Â  Â  Â  Â  Â  Â  color: var(--primary-color);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Specific RTL fix for button icon placement (mr-2 equivalent for RTL) */
Â  Â  Â  Â  html[dir="rtl"] .rtl-ml-2 {
Â  Â  Â  Â  Â  Â  margin-right: 0;
Â  Â  Â  Â  Â  Â  margin-left: 0.5rem;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Enhanced Contact Button Gradient */
Â  Â  Â  Â  .contact-btn {
Â  Â  Â  Â  Â  Â  background-image: linear-gradient(to right, #4f46e5 0%, #3b82f6 100%); /* Indigo to Blue */
Â  Â  Â  Â  Â  Â  transition: all 0.2s ease;
Â  Â  Â  Â  }
Â  Â  Â  Â  .contact-btn:hover {
Â  Â  Â  Â  Â  Â  box-shadow: 0 8px 15px rgba(63, 131, 248, 0.4);
Â  Â  Â  Â  Â  Â  transform: scale(1.02);
Â  Â  Â  Â  Â  Â  opacity: 0.95;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Centering for the main card container */
Â  Â  Â  Â  .min-h-main {
Â  Â  Â  Â  Â  Â  /* Ensures main content takes up remaining screen space */
Â  Â  Â  Â  Â  Â  min-height: calc(100vh - 140px);
Â  Â  Â  Â  }
Â  Â  Â  Â  @media (min-width: 768px) {
Â  Â  Â  Â  Â  Â  .min-h-main {
Â  Â  Â  Â  Â  Â  Â  Â  /* Adjusted for desktop header height */
Â  Â  Â  Â  Â  Â  Â  Â  min-height: calc(100vh - 120px);Â 
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>
Â  Â Â 
Â  Â  <header class="sticky top-0 z-50 w-full flex items-center justify-between px-4 md:px-8 lg:px-16 py-3 bg-white border-b border-gray-100">
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div class="flex items-center">
Â  Â  Â  Â  Â  Â  <h1 class="text-3xl font-extrabold text-indigo-600 tracking-wide" data-translate-key="logo">MALFIT</h1>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <nav id="desktop-nav" class="hidden md:flex flex-grow justify-center mx-10">
Â  Â  Â  Â  Â  Â  </nav>

Â  Â  Â  Â  <div class="icons-container flex items-center gap-2 md:gap-4">
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <button id="lang-toggle" class="icon-btn w-10 h-10 border-2 border-gray-300 hover:border-indigo-600">
Â  Â  Â  Â  Â  Â  Â  Â  <span id="current-lang" class="text-sm font-bold">EN</span>Â 
Â  Â  Â  Â  Â  Â  </button>

Â  Â  Â  Â  Â  Â  <a href="../home/home.html" class="icon-btn hover:bg-indigo-50">
Â  Â  Â  Â  Â  Â  Â  Â  <svg data-lucide="home" width="24" height="24"></svg>
Â  Â  Â  Â  Â  Â  </a>

Â  Â  Â  Â  Â  Â  <a href="../account/aacount.html" class="icon-btn hover:bg-indigo-50">
Â  Â  Â  Â  Â  Â  Â  Â  <svg data-lucide="user" width="24" height="24"></svg>
Â  Â  Â  Â  Â  Â  </a>

Â  Â  Â  Â  Â  Â  <button id="menu-toggle" class="md:hidden icon-btn">
Â  Â  Â  Â  Â  Â  Â  Â  <svg data-lucide="menu" width="24" height="24"></svg>
Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  </div>
Â  Â  </header>

Â  Â  <div id="mobile-menu" class="md:hidden">
Â  Â  Â  Â  </div>

Â  Â  <main class="flex items-center justify-center p-4 min-h-main">Â 
Â  Â  Â  Â  <div class="w-full max-w-xl bg-white shadow-2xl rounded-3xl p-8 md:p-12 border border-blue-50/50 transform transition-all duration-300 hover:shadow-indigo-200/50">

Â  Â  Â  Â  Â  Â  <div class="text-center">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mx-auto w-16 h-16 bg-gradient-to-br from-indigo-500 to-blue-500 rounded-full flex items-center justify-center shadow-lg">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <svg data-lucide="mail-open" width="28" height="28" stroke="white" stroke-width="2.5"></svg>
Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <h1 class="mt-6 text-4xl font-extrabold text-gray-900 leading-tight" data-translate-key="card_title">Get in Touch</h1>
Â  Â  Â  Â  Â  Â  Â  Â  <p class="mt-3 text-lg text-gray-500 max-w-md mx-auto" data-translate-key="card_description">We are happy to answer any questions you may have regarding our plans, clubs, or calorie tracking features.</p>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="mt-10">
Â  Â  Â  Â  Â  Â  Â  Â  <a id="email-contact-link"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  target="_blank"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  class="contact-btn w-full flex items-center justify-center px-8 py-4 text-lg font-semibold rounded-2xl shadow-xl text-white">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="rtl-ml-2 mr-2" data-translate-key="btn_send_email">Send Email</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <svg data-lucide="send" width="20" height="20" stroke="currentColor" stroke-width="2"></svg>
Â  Â  Â  Â  Â  Â  Â  Â  </a>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <p class="mt-8 text-center text-sm text-gray-400" data-translate-key="card_footer">
Â  Â  Â  Â  Â  Â  Â  Â  For urgent matters, expect a reply within 24 hours. Our support team is available Sunday to Thursday.
Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  </div>
Â  Â  </main>

Â  Â  <footer class="p-6 bg-white border-t border-gray-100 shadow-inner">
Â  Â  Â  Â  <p class="text-gray-600 text-center text-sm" data-translate-key="footer_text">&copy; 2025, Senior Project, Mada Saleh, Ahmed Khalifa, Lora Adel, Supervisor Dr.Abdulla Mohamed Khalid Alqaddoumi</p>
Â  Â  </footer>


Â  Â  <script>
Â  Â  Â  Â  // --- Navigation Data (Define links once) ---
Â  Â  Â  Â  const navData = [
Â  Â  Â  Â  Â  Â  { href: "../calories/calories.html", key: "nav_calories" },
Â  Â  Â  Â  Â  Â  { href: "../eat healthy/eat healthy.html", key: "nav_eat_healthy" },
Â  Â  Â  Â  Â  Â  { href: "../plans/plans.html", key: "nav_plans" },
Â  Â  Â  Â  Â  Â  { href: "../clubs/clubs.html", key: "nav_clubs" },
Â  Â  Â  Â  Â  Â  { href: "../survey/survey.html", key: "nav_survey" },
Â  Â  Â  Â  Â  Â  { href: "../contact us/contact us.html", key: "nav_contact_us" }
Â  Â  Â  Â  ];

Â  Â  Â  Â  // The constant email address
Â  Â  Â  Â  const CONTACT_EMAIL = 'malfit.bh@gmail.com';

Â  Â  Â  Â  // --- Translation Data  ---
Â  Â  Â  Â  const translations = {
Â  Â  Â  Â  Â  Â  'en': {
Â  Â  Â  Â  Â  Â  Â  Â  'page_title': 'MALFIT | Contact Us',
Â  Â  Â  Â  Â  Â  Â  Â  'logo': 'MALFIT',
Â  Â  Â  Â  Â  Â  Â  Â  'nav_calories': 'Calories',
Â  Â  Â  Â  Â  Â  Â  Â  'nav_eat_healthy': 'Eat Healthy',
Â  Â  Â  Â  Â  Â  Â  Â  'nav_plans': 'Plans',
Â  Â  Â  Â  Â  Â  Â  Â  'nav_clubs': 'Clubs',
Â  Â  Â  Â  Â  Â  Â  Â  'nav_survey': 'Survey',
Â  Â  Â  Â  Â  Â  Â  Â  'nav_contact_us': 'Contact Us',
Â  Â  Â  Â  Â  Â  Â  Â  'card_title': 'Get in Touch',
Â  Â  Â  Â  Â  Â  Â  Â  'card_description': 'We are happy to answer any questions you may have regarding our plans, clubs, or calorie tracking features.',
Â  Â  Â  Â  Â  Â  Â  Â  'btn_send_email': 'Send Email',
Â  Â  Â  Â  Â  Â  Â  Â  'card_footer': 'For urgent matters, expect a reply within 24 hours. Our support team is available Sunday to Thursday.',
Â  Â  Â  Â  Â  Â  Â  Â  'footer_text': 'Â© 2025, Senior Project, Mada Saleh, Ahmed Khalifa, Lora Adel, Supervisor Dr.Abdulla Mohamed Khalid Alqaddoumi',
Â  Â  Â  Â  Â  Â  Â  Â  'lang_code': 'AR', // Display 'AR' to switch to Arabic
Â  Â  Â  Â  Â  Â  Â  Â  // NEW EMAIL KEYS
Â  Â  Â  Â  Â  Â  Â  Â  'email_subject': 'Website Inquiry Regarding Support',
Â  Â  Â  Â  Â  Â  Â  Â  'email_body_prefix': 'Hello Team,\n\nI am writing to you about...'
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  'ar': {
Â  Â  Â  Â  Â  Â  Â  Â  'page_title': 'Ù…Ù„ÙØª | Ø§ØªØµÙ„ Ø¨Ù†Ø§',
Â  Â  Â  Â  Â  Â  Â  Â  'logo': 'Ù…Ù„ÙØª',
Â  Â  Â  Â  Â  Â  Â  Â  'nav_calories': 'Ø§Ù„Ø³Ø¹Ø±Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ©',
Â  Â  Â  Â  Â  Â  Â  Â  'nav_eat_healthy': 'ØªÙ†Ø§ÙˆÙ„ Ø·Ø¹Ø§Ù… ØµØ­ÙŠ',
Â  Â  Â  Â  Â  Â  Â  Â  'nav_plans': 'Ø§Ù„Ø®Ø·Ø·',
Â  Â  Â  Â  Â  Â  Â  Â  'nav_clubs': 'Ø§Ù„Ø£Ù†Ø¯ÙŠØ©',
Â  Â  Â  Â  Â  Â  Â  Â  'nav_survey': 'Ø§Ù„Ø§Ø³ØªØ¨ÙŠØ§Ù†',
Â  Â  Â  Â  Â  Â  Â  Â  'nav_contact_us': 'Ø§ØªØµÙ„ Ø¨Ù†Ø§',
Â  Â  Â  Â  Â  Â  Â  Â  'card_title': 'ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§',
Â  Â  Â  Â  Â  Â  Â  Â  'card_description': 'ÙŠØ³Ø¹Ø¯Ù†Ø§ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø£ÙŠ Ø£Ø³Ø¦Ù„Ø© Ù‚Ø¯ ØªÙƒÙˆÙ† Ù„Ø¯ÙŠÙƒÙ… Ø¨Ø®ØµÙˆØµ Ø®Ø·Ø·Ù†Ø§ Ø£Ùˆ Ø§Ù„Ø£Ù†Ø¯ÙŠØ© Ø£Ùˆ Ù…ÙŠØ²Ø§Øª ØªØªØ¨Ø¹ Ø§Ù„Ø³Ø¹Ø±Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ©.',
Â  Â  Â  Â  Â  Â  Â  Â  'btn_send_email': 'Ø¥Ø±Ø³Ø§Ù„ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ',
Â  Â  Â  Â  Â  Â  Â  Â  'card_footer': 'Ù„Ù„Ù…Ø³Ø§Ø¦Ù„ Ø§Ù„Ø¹Ø§Ø¬Ù„Ø©ØŒ ØªÙˆÙ‚Ø¹ÙˆØ§ Ø±Ø¯Ø§Ù‹ Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø©. ÙØ±ÙŠÙ‚ Ø§Ù„Ø¯Ø¹Ù… Ù…ØªØ§Ø­ Ù…Ù† Ø§Ù„Ø£Ø­Ø¯ Ø¥Ù„Ù‰ Ø§Ù„Ø®Ù…ÙŠØ³.',
Â  Â  Â  Â  Â  Â  Â  Â  'footer_text': 'Â© 2025ØŒ Ù…Ø´Ø±ÙˆØ¹ ØªØ®Ø±Ø¬ØŒ Ù…Ø¯Ù‰ ØµØ§Ù„Ø­ØŒ Ø£Ø­Ù…Ø¯ Ø®Ù„ÙŠÙØ©ØŒ Ù„ÙˆØ±Ø§ Ø¹Ø§Ø¯Ù„ØŒ Ø§Ù„Ù…Ø´Ø±Ù Ø§Ù„Ø¯ÙƒØªÙˆØ± Ø¹Ø¨Ø¯ Ø§Ù„Ù„Ù‡ Ù…Ø­Ù…Ø¯ Ø®Ø§Ù„Ø¯ Ø§Ù„Ù‚Ø§Ø¯ÙˆÙ…ÙŠ',
Â  Â  Â  Â  Â  Â  Â  Â  'lang_code': 'EN',Â  // Display 'EN' to switch to English
Â  Â  Â  Â  Â  Â  Â  Â  // NEW EMAIL KEYS
Â  Â  Â  Â  Â  Â  Â  Â  'email_subject': 'Ø§Ø³ØªÙØ³Ø§Ø± Ù…Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¨Ø®ØµÙˆØµ Ø§Ù„Ø¯Ø¹Ù…',
Â  Â  Â  Â  Â  Â  Â  Â  'email_body_prefix': 'Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ø§Ù„ÙØ±ÙŠÙ‚ØŒ\n\nØ£ÙƒØªØ¨ Ø¥Ù„ÙŠÙƒÙ… Ø¨Ø®ØµÙˆØµ...'
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  let currentLang = localStorage.getItem('malfitMainLang') || 'en';
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Utility function to convert Lucide icons
Â  Â  Â  Â  function replaceLucideIcons() {
Â  Â  Â  Â  Â  Â  lucide.createIcons();
Â  Â  Â  Â  }

Â  Â  Â  Â  /**
Â  Â  Â  Â  Â * Dynamically generates the navigation links for both desktop and mobile menus.
Â  Â  Â  Â  Â */
Â  Â  Â  Â  function generateNavigation() {
Â  Â  Â  Â  Â  Â  const desktopNav = document.getElementById('desktop-nav');
Â  Â  Â  Â  Â  Â  const mobileMenu = document.getElementById('mobile-menu');

Â  Â  Â  Â  Â  Â  // Clear existing content
Â  Â  Â  Â  Â  Â  desktopNav.innerHTML = '';
Â  Â  Â  Â  Â  Â  mobileMenu.innerHTML = '';

Â  Â  Â  Â  Â  Â  navData.forEach(link => {
Â  Â  Â  Â  Â  Â  Â  Â  const navLinkDesktop = document.createElement('a');
Â  Â  Â  Â  Â  Â  Â  Â  navLinkDesktop.href = link.href;
Â  Â  Â  Â  Â  Â  Â  Â  navLinkDesktop.className = 'nav-link'; // Desktop-specific class for pill shape
Â  Â  Â  Â  Â  Â  Â  Â  navLinkDesktop.setAttribute('data-translate-key', link.key);
Â  Â  Â  Â  Â  Â  Â  Â  // Text will be updated by updateContent()
Â  Â  Â  Â  Â  Â  Â  Â  desktopNav.appendChild(navLinkDesktop);

Â  Â  Â  Â  Â  Â  Â  Â  const navLinkMobile = document.createElement('a');
Â  Â  Â  Â  Â  Â  Â  Â  navLinkMobile.href = link.href;
Â  Â  Â  Â  Â  Â  Â  Â  navLinkMobile.setAttribute('data-translate-key', link.key);
Â  Â  Â  Â  Â  Â  Â  Â  // Mobile links inherit block/padding styles from CSS #mobile-menu a
Â  Â  Â  Â  Â  Â  Â  Â  mobileMenu.appendChild(navLinkMobile);
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  /**
Â  Â  Â  Â  Â * Dynamically updates the mailto link's href attribute based on the current language.
Â  Â  Â  Â  Â * @param {string} lang - The target language code ('en' or 'ar').
Â  Â  Â  Â  Â */
Â  Â  Â  Â  function updateEmailLink(lang) {
Â  Â  Â  Â  Â  Â  const langData = translations[lang];
Â  Â  Â  Â  Â  Â  const emailLink = document.getElementById('email-contact-link');

Â  Â  Â  Â  Â  Â  if (!emailLink) return;

Â  Â  Â  Â  Â  Â  // Construct the subject and body from translation keys
Â  Â  Â  Â  Â  Â  const subject = encodeURIComponent(langData.email_subject || 'Website Inquiry');
Â  Â  Â  Â  Â  Â  // Adding two newlines (%0A%0A) after the prefix for formatting
Â  Â  Â  Â  Â  Â  const body = encodeURIComponent(langData.email_body_prefix + '\n\nThank you.');

Â  Â  Â  Â  Â  Â  // Construct the final mailto href using the constant email
Â  Â  Â  Â  Â  Â  // Use mail.google.com/mail/u/0/?view=cm&fs=1 to open Gmail tab
Â  Â  Â  Â  Â  Â  const mailtoLink = `https://mail.google.com/mail/u/0/?view=cm&fs=1&to=${CONTACT_EMAIL}&su=${subject}&body=${body}`;

Â  Â  Â  Â  Â  Â  emailLink.href = mailtoLink;
Â  Â  Â  Â  }

Â  Â  Â  Â  /**
Â  Â  Â  Â  Â * Updates the content of the page based on the selected language and handles RTL layout.
Â  Â  Â  Â  Â * @param {string} lang - The target language code ('en' or 'ar').
Â  Â  Â  Â  Â */
Â  Â  Â  Â  function updateContent(lang) {
Â  Â  Â  Â  Â  Â  currentLang = lang;
Â  Â  Â  Â  Â  Â  const dir = (lang === 'ar') ? 'rtl' : 'ltr';
Â  Â  Â  Â  Â  Â  const langData = translations[lang];
Â  Â  Â  Â  Â  Â  const html = document.documentElement;

Â  Â  Â  Â  Â  Â  // 1. Update HTML language and direction attributes
Â  Â  Â  Â  Â  Â  html.setAttribute('lang', lang);
Â  Â  Â  Â  Â  Â  html.setAttribute('dir', dir);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // 2. Update all translated elements
Â  Â  Â  Â  Â  Â  document.querySelectorAll('[data-translate-key]').forEach(element => {
Â  Â  Â  Â  Â  Â  Â  Â  const key = element.getAttribute('data-translate-key');
Â  Â  Â  Â  Â  Â  Â  Â  if (langData[key]) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Update content only if it's not the language code span
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (element.id === 'current-lang') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  element.textContent = langData.lang_code;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (element.tagName === 'TITLE') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.title = langData[key];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  element.textContent = langData[key];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  // 3. Update the Email Link
Â  Â  Â  Â  Â  Â  updateEmailLink(lang);

Â  Â  Â  Â  Â  Â  // 4. Persist the selection
Â  Â  Â  Â  Â  Â  localStorage.setItem('malfitMainLang', lang);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  document.addEventListener('DOMContentLoaded', () => {
Â  Â  Â  Â  Â  Â  // --- 0. Generate Navigation Structure ---
Â  Â  Â  Â  Â  Â  generateNavigation();

Â  Â  Â  Â  Â  Â  // --- 1. MALFIT Mobile Menu Toggle Handler ---
Â  Â  Â  Â  Â  Â  const menuToggle = document.getElementById('menu-toggle');
Â  Â  Â  Â  Â  Â  const mobileMenu = document.getElementById('mobile-menu');
Â  Â  Â  Â  Â  Â  const langToggle = document.getElementById('lang-toggle');Â 

Â  Â  Â  Â  Â  Â  menuToggle.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  Â  Â  mobileMenu.classList.toggle('active');
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Close menu when a link is clicked
Â  Â  Â  Â  Â  Â  mobileMenu.querySelectorAll('a').forEach(link => {
Â  Â  Â  Â  Â  Â  Â  Â  link.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  mobileMenu.classList.remove('active');
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // --- 2. Language Toggle Handler ---
Â  Â  Â  Â  Â  Â  langToggle.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  Â  Â  const newLang = (currentLang === 'en') ? 'ar' : 'en';
Â  Â  Â  Â  Â  Â  Â  Â  updateContent(newLang);
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // --- 3. Initial Language Load & Icon Replacement ---
Â  Â  Â  Â  Â  Â  // Load saved language or default to English
Â  Â  Â  Â  Â  Â  updateContent(currentLang);
Â  Â  Â  Â  Â  Â  // Replace placeholder SVGs with Lucide Icons (only needed once DOM is ready)
Â  Â  Â  Â  Â  Â  replaceLucideIcons();

Â  Â  Â  Â  Â  Â  // --- 4. Falling Food Background Animation Script (Unchanged) ---
Â  Â  Â  Â  Â  Â  const produceEmojis = ['ðŸŽ', 'ðŸŠ', 'ðŸ‹', 'ðŸ‡', 'ðŸ“', 'ðŸ', 'ðŸ¥¦', 'ðŸ¥•', 'ðŸ¥¬', 'ðŸŒ¶ï¸', 'ðŸŒ½', 'ðŸ¥'];
Â  Â  Â  Â  Â  Â  const body = document.body;
Â  Â  Â  Â  Â  Â  const maxItems = 40;Â 
Â  Â  Â  Â  Â  Â  let itemsOnScreen = 0;

Â  Â  Â  Â  Â  Â  function createFallingItem() {
Â  Â  Â  Â  Â  Â  Â  Â  if (itemsOnScreen >= maxItems) return;

Â  Â  Â  Â  Â  Â  Â  Â  const emoji = produceEmojis[Math.floor(Math.random() * produceEmojis.length)];
Â  Â  Â  Â  Â  Â  Â  Â  // Smaller size range for subtlety
Â  Â  Â  Â  Â  Â  Â  Â  const size = Math.floor(Math.random() * 15) + 12;Â 
Â  Â  Â  Â  Â  Â  Â  Â  const initialX = Math.random() * window.innerWidth;
Â  Â  Â  Â  Â  Â  Â  Â  // Faster duration for slightly more noticeable movement
Â  Â  Â  Â  Â  Â  Â  Â  const duration = Math.random() * 8 + 4;Â 
Â  Â  Â  Â  Â  Â  Â  Â  const rotation = Math.random() * 360;Â 
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const item = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  item.className = 'falling-item';
Â  Â  Â  Â  Â  Â  Â  Â  item.innerHTML = emoji;
Â  Â  Â  Â  Â  Â  Â  Â  item.style.fontSize = `${size}px`;
Â  Â  Â  Â  Â  Â  Â  Â  item.style.left = `${initialX}px`;
Â  Â  Â  Â  Â  Â  Â  Â  item.style.top = `-50px`;Â 
Â  Â  Â  Â  Â  Â  Â  Â  item.style.transform = `rotate(${rotation}deg)`;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  body.appendChild(item);
Â  Â  Â  Â  Â  Â  Â  Â  itemsOnScreen++;

Â  Â  Â  Â  Â  Â  Â  Â  let currentY = -50;
Â  Â  Â  Â  Â  Â  Â  Â  const speed = (window.innerHeight + 100) / (duration * 60);Â 
Â  Â  Â  Â  Â  Â  Â  Â  const driftX = (Math.random() - 0.5) * 0.5;Â 

Â  Â  Â  Â  Â  Â  Â  Â  function animateFall() {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (currentY > window.innerHeight) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (body.contains(item)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  body.removeChild(item);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  itemsOnScreen--;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currentY += speed;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let currentX = parseFloat(item.style.left) || initialX;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currentX += driftX;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  item.style.top = `${currentY}px`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  item.style.left = `${currentX}px`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  requestAnimationFrame(animateFall);
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  requestAnimationFrame(animateFall);
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  function spawnLoop() {
Â  Â  Â  Â  Â  Â  Â  Â  createFallingItem();
Â  Â  Â  Â  Â  Â  Â  Â  // Spawn a new item every 100ms to 500ms
Â  Â  Â  Â  Â  Â  Â  Â  const delay = Math.random() * 400 + 100;
Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(spawnLoop, delay);
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  spawnLoop();
Â  Â  Â  Â  });
Â  Â  </script>
</body>
</html>
